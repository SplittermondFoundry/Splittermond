{"name":"Zauberpatzer","permission":{"default":0,"m5HI1NMGmW1y9fyL":3},"type":"script","flags":{"core":{"sourceId":"Macro.lJ9xuBIlTNQIjwJD"}},"scope":"global","command":"let d = new Dialog({\n    title: \"Zauberpatzer\",\n    content: \"<form style='display: grid; grid-template-columns: 4fr 1fr'><label>Negative Erfolgsgrade</label><input name='eg' type='test' data-dtype='Number'><label>Fokuskosten</label><input name='costs' type='test' data-dtype='Number'></form>\",\n    buttons: {\n\n        cancel: {\n            icon: '<i class=\"fas fa-times\"></i>',\n            label: \"Cancel\"\n        },\n        priest: {\n            icon: '<i class=\"fas fa-check\"></i>',\n            label: \"Priester\",\n            callback: (html) => {\n                let eg = parseInt(html.find('[name=eg]')[0].value || 0);\n                let costs = parseInt(html.find('[name=costs]')[0].value || 0);\n                const table = game.tables.find(t => t.name === \"Patzertabelle Priester\");\n                return table.draw({ roll: new Roll(\"2d10+\" + (eg * costs)) });\n            }\n        },\n        sorcerer: {\n            icon: '<i class=\"fas fa-check\"></i>',\n            label: \"Zauberer\",\n            callback: (html) => {\n                let eg = parseInt(html.find('[name=eg]')[0].value);\n                let costs = parseInt(html.find('[name=costs]')[0].value);\n                const table = game.tables.find(t => t.name === \"Patzertabelle Zauberer\");\n                return table.draw({ roll: new Roll(\"2d10+\" + (eg * costs)) });\n            }\n        },\n    },\n    default: \"sorcerer\"\n});\nd.render(true);","author":"m5HI1NMGmW1y9fyL","img":"icons/svg/dice-target.svg","actorIds":[],"_id":"6uhxtHcHpD4dVUm3"}
{"name":"skillCheck","permission":{"default":0,"m5HI1NMGmW1y9fyL":3},"type":"script","flags":{"core":{"sourceId":"Macro.Wd7IQ1iNazpXQ5kJ"}},"scope":"global","command":"let parsedString = /(.+)\\s*(>|gegen|gg\\.)\\s*([0-9]*)|(.+)/.exec(event.target.closest('button,a')?.textContent.trim());\n\nlet skillLabel = parsedString[0].trim().toLowerCase();\nlet options = {\ndifficulty: 15,\nmodifier: 0\n}\nif (parsedString[3]) {\nskillLabel = parsedString[1].trim().toLowerCase();\noptions.difficulty = parseInt(parsedString[3]);\n}\nconsole.log(options)\nlet skill = CONFIG.splittermond.skillGroups.general.find((skill) => skill === skillLabel || game.i18n.localize(`splittermond.skillLabel.${skill}`).toLowerCase() === skillLabel);\ngame.splittermond.skillCheck(skill,options);","author":"m5HI1NMGmW1y9fyL","img":"icons/svg/dice-target.svg","actorIds":[],"_id":"jAGuFure1yUuz3vj"}
{"name":"requestSkillCheck","permission":{"default":0,"m5HI1NMGmW1y9fyL":3},"type":"script","flags":{"core":{"sourceId":"Macro.3dhHSL4TZdbRfSdY"}},"scope":"global","command":"game.splittermond.requestSkillCheck();","author":"m5HI1NMGmW1y9fyL","img":"icons/svg/dice-target.svg","actorIds":[],"_id":"ngxezqPNFmG24E1L"}
{"name":"Kampfpatzer","permission":{"default":0,"m5HI1NMGmW1y9fyL":3},"type":"script","flags":{"core":{"sourceId":"Macro.4YoZEAENs2p03F4w"}},"scope":"global","command":"const table = game.tables.find(t => t.name === \"Patzertabelle Kampf\");\ntable.draw();","author":"m5HI1NMGmW1y9fyL","img":"icons/svg/dice-target.svg","actorIds":[],"_id":"paOgs97Zt70SlpWw"}
{"$$deleted":true,"_id":"6uhxtHcHpD4dVUm3"}
{"$$deleted":true,"_id":"paOgs97Zt70SlpWw"}
