<div class="row stretch flex-gap-large flex-wrap">
    <div class="column stretch health-focus" id="focus">
        <div class="health-focus-headline">
            <h3>{{localize "splittermond.derivedAttribute.focuspoints.long"}}</h3>
        </div>
        <div class="bar-with-value">
            <div class="bar bar-focus">
                <div class="available" style="width: {{system.focus.available.percentage}}%"></div>
                <div class="channeled" style="width: {{system.focus.channeled.percentage}}%"></div>
                <div class="exhausted" style="width: {{system.focus.exhausted.percentage}}%"></div>
                <div class="value" style="left: {{system.focus.available.percentage}}%">
                    {{system.focus.available.value}}
                </div>
            </div>
            <div class="value-max">
                {{system.focus.max}}
            </div>
        </div>
        <div class="health-focus-data">
            <div class="health-focus-data-part exhausted">
                <label>{{localize 'splittermond.exhausted'}}</label>
                <div class="value">
                    <button class="button-inline" type="button" data-action="dec-value" data-input-query="input[name='system.focus.exhausted.value']">
                        <i class="fa fa-minus" aria-hidden="true"></i></button>
                    <input name="system.focus.exhausted.value" type="text"
                           value="{{system.focus.exhausted.value}}" data-dtype="Number">
                    <button class="button-inline" type="button" data-action="inc-value" data-input-query="input[name='system.focus.exhausted.value']">
                        <i class="fa fa-plus" aria-hidden="true"></i></button>
                </div>
            </div>
            <div class="health-focus-data-part consumed">
                <label>{{localize 'splittermond.consumed'}}</label>
                <div class="value">
                    <button class="button-inline" type="button" data-action="dec-value" data-input-query="input[name='system.focus.consumed.value']">
                        <i class="fa fa-minus" aria-hidden="true"></i></button>
                    <input name="system.focus.consumed.value" type="text"
                           value="{{system.focus.consumed.value}}" data-dtype="Number">
                    <button class="button-inline" type="button" data-action="inc-value" data-input-query="input[name='system.focus.consumed.value']">
                        <i class="fa fa-plus" aria-hidden="true"></i></button>
                </div>
            </div>
            <div class="list health-channeled-list">
                <div class="list-header">
                    <h3>{{localize "splittermond.channeledSpells"}}</h3>
                    <div class="value"><span>{{system.focus.channeled.value}}</span></div>
                    <div class="list-actions">
                        <button class="button-inline" type="button" data-action="add-channeled-focus"
                            data-render-sheet="0">
                            <i class="fa fa-plus-square" aria-hidden="true"></i>
                        </button>
                    </div>
                </div>
                <ol class="list-body" data-array="system.focus.channeled.entries">
                    {{#each system.focus.channeled.entries}}
                    <li class="list-item" data-index="{{@index}}">
                        <div>
                            <input data-array-field="description" type="text" value="{{this.description}}">
                        </div>
                        <div class="costs"><input data-array-field="costs" type="text" value="{{this.costs}}"
                                data-dtype="Number"></div>
                        <div class="list-actions">
                            <button class="button-inline" type="button" data-action="delete-array-element">
                                <i class="fa fa-trash" aria-hidden="true"></i>
                            </button>
                        </div>
                    </li>
                    {{/each}}
                </ol>
            </div>
        </div>
    </div>
    <div class="column stretch health-focus" id="health">
        <div class="health-focus-headline">
            <h3>{{localize "splittermond.derivedAttribute.healthpoints.long"}}</h3>
        </div>
        <div class="bar-with-value bar-with-value-health">
            <div class="bar bar-health">
                <div class="available" style="width: {{system.health.available.percentage}}%"></div>
                <div class="channeled" style="width: {{system.health.channeled.percentage}}%"></div>
                <div class="exhausted" style="width: {{system.health.exhausted.percentage}}%"></div>
                <div class="value" style="left: {{system.health.total.percentage}}%">
                    {{system.health.total.value}}
                </div>
            </div>
            <div class="value-max">
                {{system.health.max}}
            </div>
        </div>
        <div class="wound-malus">
            {{#each system.health.woundMalus.levels}}
                <div class="wound-malus-level{{#if
                        (eq ../system.health.woundMalus.value this.value)}} wound-malus-level-active{{/if}}"
                     title="{{localize this.label}}">{{this.value}}</div>
            {{/each}}
            <label>{{localize "splittermond.woundMalus"}}</label>
        </div>
         <div class="health-focus-data">
            <div class="health-focus-data-part consumed">
                <label>{{localize 'splittermond.normalDamage'}}
                <div class="value">
                    <button class="button-inline" type="button" data-action="dec-value" data-input-query="input[name='system.health.consumed.value']">
                        <i class="fa fa-minus" aria-hidden="true"></i></button>
                    <input name="system.health.consumed.value" type="text"
                           value="{{system.health.consumed.value}}" data-dtype="Number">
                    <button class="button-inline" type="button" data-action="inc-value" data-input-query="input[name='system.health.consumed.value']">
                        <i class="fa fa-plus" aria-hidden="true"></i></button>
                </div>
                </label>
            </div>
            <div class="health-focus-data-part exhausted">
                <label for="system.health.exhausted.value">{{localize 'splittermond.stunDamage'}}
                <div class="value">
                    <button class="button-inline" type="button" data-action="dec-value" data-input-query="input[name='system.health.exhausted.value']">
                        <i class="fa fa-minus" aria-hidden="true"></i></button>
                    <input name="system.health.exhausted.value" type="text"
                           value="{{system.health.exhausted.value}}" data-dtype="Number">
                    <button class="button-inline" type="button" data-action="inc-value" data-input-query="input[name='system.health.exhausted.value']">
                        <i class="fa fa-plus" aria-hidden="true"></i></button>
                </div>
                </label>
            </div>
            <div class="list health-channeled-list">
                <div class="list-header">
                    <h3>{{localize "splittermond.channeledDamage"}}</h3>
                    <div class="value"><span>{{system.health.channeled.value}}</span></div>
                    <div class="list-actions">
                        <button class="button-inline" type="button" data-action="add-channeled-health"
                            data-render-sheet="0">
                            <i class="fa fa-plus-square" aria-hidden="true"></i>
                        </button>
                    </div>
                </div>
                <ol class="list-body" data-array="system.health.channeled.entries">
                    {{#each system.health.channeled.entries}}
                    <li class="list-item" data-index="{{@index}}">
                        <div>
                            <input data-array-field="description" type="text" value="{{this.description}}">
                        </div>
                        <div class="costs"><input data-array-field="costs" type="text" value="{{this.costs}}"
                                data-dtype="Number"></div>
                        <div class="list-actions">
                            <button class="button-inline" type="button" data-action="delete-array-element">
                                <i class="fa fa-trash" aria-hidden="true"></i>
                            </button>
                        </div>
                    </li>
                    {{/each}}
                </ol>
            </div>
            {{#if hasRestActions}}
            <div class="row">
                <button type="button" data-action="short-rest">
                    {{localize "splittermond.shortRest"}}
                </button>
                <button type="button" data-action="long-rest">
                    {{localize "splittermond.longRest"}}
                </button>
            </div>
            {{/if}}
        </div>
    </div>
</div>